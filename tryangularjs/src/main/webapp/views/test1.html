<html>

<head>
<title>Angular JS Custom Directives</title>
<script
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>

<script>
	var mainApp = angular.module("mainApp", []);

	mainApp.directive('employee', function() {
						var directive = {};
						directive.restrict = 'E';
						directive.template = "Employee: <b>{{employee.id}}</b> , First Name: <b>{{employee.fname}}</b> , Last Name: <b>{{employee.lname}} , Email: <b>{{employee.email}}</b>";

						directive.scope = {
							employee : "=id"
						}

						directive.compile = function(element, attributes) {
							element.css("border", "1px solid #cccccc");

							var linkFunction = function($scope, element,
									attributes) {
								element.html("Employee: <b>" + $scope.employee.id
										+ "</b> , First Name : <b>"
										+ $scope.employee.fname
										+ "</b> , Last Name: <b>"
										+ $scope.employee.lname
										+ "</b> , Email: <b>"
										+ $scope.employee.email + "</b><br/>");
								element.css("background-color", "#ff00ff");
							}
							return linkFunction;
						}

						return directive;
					});

	mainApp.controller('EmployeeController', function($scope) {
		
		$scope.employees = [];
		$scope.employee_001 = {};
		$scope.employee_001.id = "001";
		$scope.employee_001.fname = "Mahesh"
		$scope.employee_001.lname = "Parashar";
		$scope.employee_001.email = "hjdfbvzhdbvzvzs";
		$scope.employees.push($scope.employee_001);

		$scope.employee_002 = {};
		$scope.employee_002.id = "002";
		$scope.employee_002.fname = "Piyush";
		$scope.employee_002.lname = "Parashar";
		$scope.employee_002.email = "hjgkyufku";
		$scope.employees.push($scope.employee_002);
	});
</script>
</head>

<body>
	<h2>AngularJS Sample Application</h2>

	<div data-ng-app="mainApp" data-ng-controller="EmployeeController">
		<div data-ng-repeat="employee in employees">
			<employee id="employee" ></employee>
		</div>
	</div>
</body>
</html>